# Comic-Translate-AI

ä¸€ä¸ªåŸºäºAIçš„æ¼«ç”»ç¿»è¯‘ä¸ç¤¾åŒºå¹³å°ï¼Œç”¨æˆ·å¯ä¸Šä¼ æ¼«ç”»ã€ç¿»è¯‘ä¸ºå¤šç§è¯­è¨€ï¼Œå¹¶åœ¨ç¤¾åŒºåˆ†äº«äº¤æµã€‚

## ï¿½ ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 19** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **React Router DOM** - è·¯ç”±ç®¡ç†
- **Lucide React** - å›¾æ ‡åº“
- **PDF.js** - PDFæ–‡ä»¶è§£æ
- **React Image Crop** - å›¾ç‰‡è£å‰ª
- **React Virtuoso** - è™šæ‹Ÿåˆ—è¡¨

### åç«¯
- **Node.js + Express 5** - æœåŠ¡ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **MongoDB + Mongoose** - æ•°æ®åº“
- **JWT** - ç”¨æˆ·è®¤è¯
- **Multer** - æ–‡ä»¶ä¸Šä¼ 
- **Nodemailer** - é‚®ä»¶æœåŠ¡
- **bcryptjs** - å¯†ç åŠ å¯†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 16+
- npm æˆ– yarn
- MongoDB

### å®‰è£…æ­¥éª¤

1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/lhy0920/comic-trans-ai.git
cd comic-trans-ai
```

2. å®‰è£…åç«¯ä¾èµ–
```bash
cd comic-backend
npm install
```

3. å®‰è£…å‰ç«¯ä¾èµ–
```bash
cd ../comic-platform
npm install
```

4. é…ç½®ç¯å¢ƒå˜é‡
```bash
# åœ¨åç«¯åˆ›å»º .env æ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®
```

`.env` é…ç½®ç¤ºä¾‹ï¼š
```env
PORT=5000
MONGODB_URI=mongodb://localhost:27017/comic-trans
JWT_SECRET=your_jwt_secret
BASE_URL=http://localhost:5000
EMAIL_HOST=smtp.example.com
EMAIL_PORT=465
EMAIL_USER=your_email@example.com
EMAIL_PASS=your_email_password
```

5. å¯åŠ¨é¡¹ç›®
```bash
# åç«¯ï¼ˆç«¯å£ 5000ï¼‰
cd comic-backend
npm run dev

# å‰ç«¯ï¼ˆç«¯å£ 5173ï¼‰
cd ../comic-platform
npm run dev
```

è®¿é—® http://localhost:5173 å¼€å§‹ä½¿ç”¨ï¼

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“š æ¼«ç”»ç³»ç»Ÿ

#### æ¼«ç”»ä¸Šä¼ ä¸ç®¡ç†
- æ”¯æŒä¸Šä¼ æ¼«ç”»ï¼ˆPDFæ ¼å¼ï¼‰
- æ¼«ç”»å°é¢è‡ªåŠ¨æå–
- æ¼«ç”»è¯¦æƒ…é¡µå±•ç¤º
- ç« èŠ‚ç®¡ç†

#### æ¼«ç”»é˜…è¯»å™¨
- æµç•…çš„ç¿»é¡µé˜…è¯»ä½“éªŒ
- æ”¯æŒå¤šç§é˜…è¯»æ¨¡å¼
- é˜…è¯»è¿›åº¦è®°å½•
- æµè§ˆå†å²ä¿å­˜

#### æ¼«ç”»ç¿»è¯‘
- AIé©±åŠ¨çš„æ¼«ç”»ç¿»è¯‘
- æ”¯æŒå¤šç§ç›®æ ‡è¯­è¨€
- æ–‡å­—è¯†åˆ«ä¸ç¿»è¯‘
- ç¿»è¯‘ç»“æœé¢„è§ˆ

#### ä¹¦æ¶åŠŸèƒ½
- æ”¶è—å–œæ¬¢çš„æ¼«ç”»
- é˜…è¯»è¿›åº¦åŒæ­¥
- åˆ†ç±»ç®¡ç†

### ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ

#### è´¦æˆ·åŠŸèƒ½
- é‚®ç®±æ³¨å†Œ/ç™»å½•
- é‚®ç®±éªŒè¯ç éªŒè¯
- JWT Tokenè®¤è¯
- ä¸ªäººä¿¡æ¯ç®¡ç†ï¼ˆæ˜µç§°ã€å¤´åƒã€ç­¾åã€æ€§åˆ«ã€ç”Ÿæ—¥ç­‰ï¼‰

#### ä¸ªäººä¸»é¡µ (æˆ‘çš„ç©ºé—´)
- ç±»ä¼¼QQç©ºé—´çš„ä¸ªäººä¸»é¡µè®¾è®¡
- è‡ªå®šä¹‰å°é¢å›¾ç‰‡ä¸Šä¼ 
- ç”¨æˆ·ä¿¡æ¯å±•ç¤º
- ç»Ÿè®¡æ•°æ®ï¼ˆå…³æ³¨æ•°ã€ç²‰ä¸æ•°ã€å¸–å­æ•°ï¼‰
- å¸–å­ç®¡ç†ï¼ˆä¿®æ”¹ã€åˆ é™¤ã€è®¾ç½®å¯è§æ€§ï¼‰

### ğŸŒ ç¤¾åŒºç³»ç»Ÿ

#### å¸–å­åŠŸèƒ½
- å‘å¸ƒå›¾æ–‡å¸–å­ï¼ˆæœ€å¤š9å¼ å›¾ç‰‡ï¼‰
- æ ‡ç­¾ç³»ç»Ÿ
- ç‚¹èµã€æ”¶è—ã€åˆ†äº«
- è¯„è®ºä¸å›å¤
- å¸–å­å¯è§æ€§è®¾ç½®ï¼ˆå…¬å¼€/ä»…ç²‰ä¸/ä»…è‡ªå·±ï¼‰

#### å‘å¸ƒå¢å¼º
- è¡¨æƒ…åŒ…é€‰æ‹©å™¨
- @ç”¨æˆ·åŠŸèƒ½
- å¯è§æ€§è®¾ç½®
- ç¼–è¾‘å·²å‘å¸ƒçš„å¸–å­

#### å…³æ³¨ç³»ç»Ÿ
- å…³æ³¨/å–æ¶ˆå…³æ³¨ç”¨æˆ·
- å…³æ³¨åˆ—è¡¨
- ç²‰ä¸åˆ—è¡¨
- å…³æ³¨/ç²‰ä¸æ•°é‡ç»Ÿè®¡

#### çŸ­é“¾æ¥æœåŠ¡
- å‘å¸ƒæ—¶è‡ªåŠ¨è½¬æ¢é•¿é“¾æ¥ä¸ºçŸ­é“¾æ¥
- çŸ­é“¾æ¥æ ¼å¼ï¼š`http://localhost:5000/s/xxxxxx`
- ç‚¹å‡»è‡ªåŠ¨é‡å®šå‘åˆ°åŸå§‹URL
- å¸–å­å†…å®¹é“¾æ¥å¯ç‚¹å‡»

### ğŸ“¢ å…¶ä»–åŠŸèƒ½
- çƒ­é—¨è¯é¢˜å±•ç¤º
- ç¤¾åŒºå…¬å‘Š
- å…³äºæˆ‘ä»¬é¡µé¢
- ç”¨æˆ·åè®®é¡µé¢

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
comic-trans-ai/
â”œâ”€â”€ comic-platform/              # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx       # é¡¶éƒ¨å¯¼èˆª
â”‚   â”‚   â”‚   â”œâ”€â”€ Toast.tsx        # æ¶ˆæ¯æç¤º
â”‚   â”‚   â”‚   â”œâ”€â”€ LinkifyText.tsx  # é“¾æ¥æ–‡æœ¬ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AvatarUpload.tsx # å¤´åƒä¸Šä¼ 
â”‚   â”‚   â”‚   â”œâ”€â”€ EditUserModal.tsx# ç¼–è¾‘ç”¨æˆ·å¼¹çª—
â”‚   â”‚   â”‚   â””â”€â”€ PdfCover.tsx     # PDFå°é¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx         # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx        # ç™»å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.tsx     # æ³¨å†Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ Translate.tsx    # ç¿»è¯‘é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ ComicDetail.tsx  # æ¼«ç”»è¯¦æƒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ ComicReader.tsx  # æ¼«ç”»é˜…è¯»å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Bookshelf.tsx    # ä¹¦æ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile.tsx      # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ Myposts.tsx      # æˆ‘çš„ç©ºé—´
â”‚   â”‚   â”‚   â”œâ”€â”€ Community.tsx    # ç¤¾åŒº
â”‚   â”‚   â”‚   â”œâ”€â”€ PublishPost.tsx  # å‘å¸ƒå¸–å­
â”‚   â”‚   â”‚   â”œâ”€â”€ FollowList.tsx   # å…³æ³¨/ç²‰ä¸åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Aboutus.tsx      # å…³äºæˆ‘ä»¬
â”‚   â”‚   â”‚   â””â”€â”€ UserAgreement.tsx# ç”¨æˆ·åè®®
â”‚   â”‚   â”œâ”€â”€ services/            # APIæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ api.ts           # APIæ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ pdfParser.ts     # PDFè§£æå·¥å…·
â”‚   â”‚   â””â”€â”€ App.tsx              # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ comic-backend/               # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/              # é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ db.ts            # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts          # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ upload.ts        # ä¸Šä¼ ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ User.ts          # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ Post.ts          # å¸–å­æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ ShortLink.ts     # çŸ­é“¾æ¥æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/              # è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts          # è®¤è¯è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ comic.ts         # æ¼«ç”»è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ post.ts          # å¸–å­è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ follow.ts        # å…³æ³¨è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ shortlink.ts     # çŸ­é“¾æ¥è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ collection.ts    # æ”¶è—è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ history.ts       # å†å²è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ translate.ts     # ç¿»è¯‘è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/            # æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ email.ts         # é‚®ä»¶æœåŠ¡
â”‚   â”‚   â””â”€â”€ app.ts               # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md
```

---

## ğŸ”Œ API æ¥å£

### è®¤è¯ API
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/auth/register` | ç”¨æˆ·æ³¨å†Œ |
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| POST | `/api/auth/send-code` | å‘é€éªŒè¯ç  |
| POST | `/api/auth/verify-code` | éªŒè¯éªŒè¯ç  |
| GET | `/api/auth/me` | è·å–å½“å‰ç”¨æˆ· |
| PUT | `/api/auth/profile` | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |
| POST | `/api/auth/avatar` | ä¸Šä¼ å¤´åƒ |
| POST | `/api/auth/cover` | ä¸Šä¼ å°é¢ |

### æ¼«ç”» API
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/comics` | è·å–æ¼«ç”»åˆ—è¡¨ |
| GET | `/api/comics/:id` | è·å–æ¼«ç”»è¯¦æƒ… |
| POST | `/api/comics` | ä¸Šä¼ æ¼«ç”» |
| GET | `/api/comics/:id/chapter/:chapterId` | è·å–ç« èŠ‚å†…å®¹ |
| POST | `/api/comics/:id/chapter` | ä¸Šä¼ ç« èŠ‚ |

### å¸–å­ API
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/posts` | è·å–å¸–å­åˆ—è¡¨ |
| GET | `/api/posts/:id` | è·å–å¸–å­è¯¦æƒ… |
| POST | `/api/posts` | å‘å¸ƒå¸–å­ |
| PUT | `/api/posts/:id` | ä¿®æ”¹å¸–å­ |
| DELETE | `/api/posts/:id` | åˆ é™¤å¸–å­ |
| POST | `/api/posts/:id/like` | ç‚¹èµ/å–æ¶ˆç‚¹èµ |
| POST | `/api/posts/:id/star` | æ”¶è—/å–æ¶ˆæ”¶è— |
| POST | `/api/posts/:id/share` | åˆ†äº« |
| PUT | `/api/posts/:id/visibility` | æ›´æ–°å¯è§æ€§ |
| GET | `/api/posts/my/list` | è·å–æˆ‘çš„å¸–å­ |
| GET | `/api/posts/:id/comments` | è·å–è¯„è®º |
| POST | `/api/posts/:id/comments` | å‘è¡¨è¯„è®º |

### å…³æ³¨ API
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/follow/:userId` | å…³æ³¨/å–æ¶ˆå…³æ³¨ |
| GET | `/api/follow/following` | è·å–å…³æ³¨åˆ—è¡¨ |
| GET | `/api/follow/followers` | è·å–ç²‰ä¸åˆ—è¡¨ |
| GET | `/api/follow/count` | è·å–æ•°é‡ç»Ÿè®¡ |
| GET | `/api/follow/check/:userId` | æ£€æŸ¥å…³æ³¨çŠ¶æ€ |

### çŸ­é“¾æ¥ API
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/shortlink/create` | åˆ›å»ºçŸ­é“¾æ¥ |
| POST | `/api/shortlink/batch` | æ‰¹é‡åˆ›å»º |
| GET | `/api/shortlink/my` | è·å–æˆ‘çš„çŸ­é“¾æ¥ |
| DELETE | `/api/shortlink/:hash` | åˆ é™¤çŸ­é“¾æ¥ |
| GET | `/s/:hash` | çŸ­é“¾æ¥é‡å®šå‘ |

### å…¶ä»– API
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/collections` | è·å–æ”¶è—åˆ—è¡¨ |
| POST | `/api/collections/:comicId` | æ·»åŠ æ”¶è— |
| DELETE | `/api/collections/:comicId` | å–æ¶ˆæ”¶è— |
| GET | `/api/history` | è·å–æµè§ˆå†å² |
| POST | `/api/history` | è®°å½•æµè§ˆå†å² |
| POST | `/api/translate` | ç¿»è¯‘è¯·æ±‚ |

---

## ğŸ“„ License

MIT License
